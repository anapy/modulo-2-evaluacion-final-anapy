"use strict";const searchButton=document.querySelector(".js-search"),serieInput=document.querySelector(".js-serie");let resultList=document.querySelector(".js-list-results"),serie="",results=[],favourites=[],listItems=[];function clickHandler(e){e.preventDefault(),cleanResults(listItems),serie=serieInput.value,getApiData()}function getApiData(){fetch("http://api.tvmaze.com/search/shows?q="+serie).then(e=>e.json()).then(e=>{results=e,printResults()})}function printResults(){if(0===results.length){const e=document.createElement("p");e.classList.add("error");const t=document.createTextNode("La serie buscada no est√° en nuestro listado, prueba de nuevo");e.appendChild(t),resultList.appendChild(e)}else{for(let e=0;e<results.length;e++){const t=document.createElement("li");t.classList.add("serie-container");const s=document.createElement("h2");s.classList.add("serie-title");const r=document.createTextNode(results[e].show.name);s.appendChild(r),t.appendChild(s);const n=document.createElement("IMG");checkImg(e,n),n.setAttribute("alt",results[e].show.name),n.setAttribute("id",results[e].show.name),t.appendChild(n),resultList.appendChild(t)}listItems=document.querySelectorAll(".serie-container")}}function cleanResults(e){for(const t of e)resultList.removeChild(t);const t=document.querySelector(".error");null!==t&&resultList.removeChild(t)}function checkImg(e,t){null===results[e].show.image.medium?t.setAttribute("src","https://via.placeholder.com/210x295/ffffff/666666/?text=TV"):t.setAttribute("src",results[e].show.image.medium)}searchButton.addEventListener("click",clickHandler);